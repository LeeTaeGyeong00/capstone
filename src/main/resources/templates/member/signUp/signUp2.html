<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>회원가입</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Raleway:wght@600;800&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">


    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link rel="stylesheet" href="../../css/reset.css">
    <link href="../../css/style.css" rel="stylesheet">


    <!-- fontawesone -->
    <script src="https://kit.fontawesome.com/4c3f1790ae.js" crossorigin="anonymous"></script>

    <script type="text/javascript">

        function check(){
            /* 아이디 유효성 검사 */
            if(myform.person_id.value.length === 0){
                alert("아이디를 입력해주세요.");
                myform.person_id.focus();
                return false;
            }

            if(myform.person_id.value.length <5 || myform.person_id.value.length > 12){
                alert("아이디는 5자 이상, 12자 이하로 입력 가능합니다.");
                myform.person_id.focus();
                return false;
            }

            if(!checkEngNumber(myform.person_id.value)){
                alert("아이디는 영어 대소문자, 숫자로만 입력 가능합니다.");
                myform.person_id.focus();
                return false;
            }


            /* 비밀번호 및 비밀번호 확인 유효성 검사 */
            if(myform.passwd.value.length === 0){
                alert("비밀번호를 입력해주세요.");
                myform.passwd.focus();
                return false;
            }

            if(myform.passwd2.value.length === 0){
                alert("비밀번호 확인을 입력해주세요.");
                myform.passwd2.focus();
                return false;
            }

            if(myform.passwd.value !== myform.passwd2.value){
                alert("비밀번호를 재확인하세요.");
                myform.passwd2.select();
                return false;
            }

            if(myform.passwd.value.length < 8 || !checkEngNumSpeChar(myform.passwd.value)){
                alert("비밀번호는 영문,숫자,특수문자 포함 8자이상 입력해야 합니다.");
                myform.passwd.select();
                return false;
            }


            /* 닉네임 유효성 검사 */
            if(myform.user_name.value.length === 0){
                alert("닉네임을 입력해주세요.");
                myform.user_name.focus();
                return false;
            }

            if(myform.user_name.value.length < 2 || myform.user_name.value.length > 10){
                alert("닉네임은 2자 이상, 10자 이하로 입력이 가능합니다. ");
                myform.user_name.focus();
                return false;
            }


            /* 나이 유효성 검사 */
            if(myform.old.value.length === 0) {
                alert("나이를 입력해주세요.");
                myform.old.focus();
                return false
            }

            if(isNaN(myform.old.value)){
                alert("나이는 숫자만 입력가능합니다.");
                myform.old.focus();
                return false;
            }


            /* 전화번호 유효성 검사 */
            if(myform.phone_num.value.length === 0){
                alert("전화번호를 입력해주세요.");
                myform.phone_num.focus();
                return false;
            }


            if(isNaN(myform.phone_num.value) || myform.phone_num.value.length !== 11){
                alert("전화번호는 형식에 맞춰 숫자로만 입력해주세요.");
                myform.phone_num.focus();
                return false;
            }


            // 문자열이 영어, 숫자인지 확인하는 메서드
            function checkEngNumber(value) {
                return /^[a-zA-Z0-9]+$/.test(value);
            }

            // 문자열이 영어, 숫자, 특수문자인지 확인하는 메서드
            function checkEngNumSpeChar(value) {
                var regex = /^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[!@#$%^&*()_+{}\[\]:;<>,.?\/\\~-])/;
                return regex.test(value);
            }


        }
    </script>
</head>
<body>
<!-- <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script> -->




















<!-- 오류확인용 -->


<div class="wrap">
    <!-- Spinner Start -->
    <div id="spinner" class="show w-100 vh-100 bg-white position-fixed translate-middle top-50 start-50  d-flex align-items-center justify-content-center">
        <div class="spinner-grow text-primary" role="status"></div>
    </div>
    <!-- Spinner End -->


    <div id="container" class="container joinContainer">
        <header class="header_effect">
            <h1>LOGO</h1>
            <form class="search-box" name="search" action="" method="get">
                <input class="search-txt" type="search">
                <button class="search-btn" type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
            </form>
            <div class="map nav-btn">
                <button class="map-btn" type="button"><i class="fa-solid fa-location-dot"></i></button>
            </div>
            <div class="menu nav-btn">
                <button class="menu-btn" type="button"><i class="fa-solid fa-bars"></i></button>
            </div>
            <div class="user nav-btn">
                <button class="user-btn" type="button"><i class="fa-regular fa-circle-user"></i></button>
            </div>
        </header>

        <div class="tap">
            <ul class="step_wrap">
                <li class="step"><span class="textNum">1</span><span class="text">개인정보 입력</span></li>
                <li class="step act"><span class="textNum">2</span><span class="text">최종 확인</span></li>
            </ul>
        </div>
        <div class="joinInput_wrap">
            <div class="content_summary">
                <h3>step 2</h3>
                <p>이대로 가입하시겠습니까?</p>
            </div>
            <div class="Profile">
                <table>
                    <tr>
                        <th>이름</th>
                        <td>홍길동</td>
                    </tr>
                    <tr>
                        <th>아이디</th>
                        <td>방방곡곡</td>
                    </tr>
                    <tr>
                        <th>이메일</th>
                        <td>gmail</td>
                    </tr>
                    <tr>
                        <th>닉네임</th>
                        <td>캡스톤</td>
                    </tr>
                    <tr>
                        <th>전화번호</th>
                        <td>000-0000-0000</td>
                    </tr>
                    <tr>
                        <th>생년월일</th>
                        <td>2000.00.00</td>
                    </tr>
                </table>
            </div>
            <div class="join_control_box">
                <button type="submit" class="Prev-step step_btn">이전</button>
                <button type="submit" class="next-step step_btn">다음</button>
            </div>
        </div>
    </div>
    <footer class="footer">
        <ul class="footer_inner">
            <li><a href="" class="footer_item">회사소개</a></li>
            <li><a href="" class="footer_item">인재채용</a></li>
            <li><a href="" class="footer_item">제휴제안</a></li>
            <li><a href="" class="footer_item">이용약관</a></li>
            <li><a href="" class="footer_item"><b>개인정보처리방침</b></a></li>
            <li><a href="" class="footer_item">청소년보호정책</a></li>
            <li><a href="" class="footer_item">고객센터</a></li>
        </ul>
    </footer>
    <!-- Back to Top -->
    <a href="#" class="btn btn-primary border-3 border-primary rounded-circle back-to-top"><i class="fa fa-arrow-up"></i></a>
</div>
</div>

























<!-- 함수 오류 떠서 잠시 주석 처리 -->

<!--
<script>

    //댓글 생성 버튼 변수화
    const commentCreateBtn = document.querySelector("#join-btn");

    //버튼 클릭 이벤트 감지
    commentCreateBtn.addEventListener("click",function () {

        // check 함수 호출하여 반환값 받음
        const validationResult = check();

        // 반환값에 따라 동작 분기
        if (validationResult === false) {

        } else {
            // 보낼 JSON 데이터 생성
            var jsonData = {
                person_id: document.querySelector("#user-id").value,
                passwd: document.querySelector("#user-passwd").value,
                user_name: document.querySelector("#user-name").value,
                old: document.querySelector("#user-old").value,
                phone_num: document.querySelector("#user-phone").value
            };

            // Ajax 요청
            $.ajax({
                type: "POST",
                url: "/bangbang/auth/sign-in",  // Spring Boot 어플리케이션의 URL로 변경
                contentType: "application/json",
                data: JSON.stringify(jsonData),
                success: function(response) {

                    // 서버에서의 응답을 처리
                    console.log(response);
                    const msg =  "회원가입이 되었습니다"
                    alert(msg);
                    window.location.href = "/bangbang/auth/sign-up";
                },
                error: function(error) {

                    const msg =  "회원가입 실패"
                    alert(msg);
                    console.error("에러 발생:", error);
                    window.location.href = "/bangbang/auth/sign-in";
                }
            });
        }



    })


</script> -->

<!-- JavaScript Libraries -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="lib/easing/easing.min.js"></script>
<script src="lib/waypoints/waypoints.min.js"></script>
<script src="lib/lightbox/js/lightbox.min.js"></script>
<script src="lib/owlcarousel/owl.carousel.min.js"></script>

<!-- Template Javascript -->
<script src="js/main.js"></script>
</body>
</html>