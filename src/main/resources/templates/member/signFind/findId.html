<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>방방곡곡:아이디 찾기</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Raleway:wght@600;800&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="/lib/lightbox/css/lightbox.min.css" rel="stylesheet">
    <link href="/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">


    <!-- Customized Bootstrap Stylesheet -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link rel="stylesheet" href="/css/reset.css">
    <link href="/css/style.css" rel="stylesheet">
    <style>
        #timerDisplay,#replaceInput {
            color: red;
        }
        #numCheckBtn{
            width: 50px;
            line-height: 30px;
            color: #fff;
            background: #F55E08;
            position: absolute;
            top: 50%;
            transform: translate(-150%, -50%);
        }
        #numCheckedOk{
            width: 50px;
            line-height: 30px;
            color: #fff;
            background: #F55E08;
            position: absolute;
            top: 50%;
            transform: translate(-150%, -50%);
        }
        .fIItemWrap{
            display: flex;
            flex-direction: column;
            align-items: center;
        }
    </style>
    <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
</head>

<!--<h2>아이디 찾기</h2><br>-->

<!--<form  id="myForm" method="post" action="/bangbang/find-id">-->
<!--    닉네임: <input type="text" name="nickname" id="nickname" placeholder="닉네임 입력"><br>-->
<!--    전화번호: <input type="text" name="phone" id="phone" placeholder="전화번호 입력"> <input type="button" id="numCheckBtn" value="전송"><br>-->
<!--    <input type="text" name="phone2" id="phone2" placeholder="전화번호 확인"> <span id="timerDisplay"></span><input type="button" id="numCheckedOk" value="확인"><br>-->
<!--    <span id="replaceInput"></span><br>-->
<!--    -->
<!--    <button type="submit" id="nextIdBefore">아이디 찾기</button>-->
<!--</form>-->

<div class="wrap">
    <!-- Spinner Start -->
    <div id="spinner" class="show w-100 vh-100 bg-white position-fixed translate-middle top-50 start-50  d-flex align-items-center justify-content-center">
        <div class="spinner-grow text-primary" role="status"></div>
    </div>
    <!-- Spinner End -->
    <div id="container" class="container loginContainer">
        <header class="header">
            <a href="/" class="logo">
                <h1>LOGO</h1>
            </a>
        </header>
        <div class="content">
            <div class="login_wrap">
                <h2 class="guideLogin">아이디 찾기</h2>
                <form  id="myForm" method="post" action="/bangbang/find-id">
                    <div class="fIItemWrap">
                        <div class="fIItem"><input type="text" name="nickname" id="nickname" placeholder="닉네임 입력" class="login_input login_C"></div>
                        <div class="fIItem"><input type="text" name="phone" id="phone" placeholder="전화번호 입력" class="login_input login_C"> <input type="button" id="numCheckBtn" value="전송"></div>
                        <div class="fIItem"><input type="text" name="phone2" id="phone2" placeholder="인증번호 확인" class="login_input login_C"> <span id="timerDisplay"></span><input type="button" id="numCheckedOk" value="확인"></div>
                        <span id="replaceInput" class="login_C"></span><br>
                        <button type="submit" id="nextIdBefore" class="btn_login login_C">아이디 찾기</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <footer class="footer">
        <ul class="footer_inner">
            <li><a href="" class="footer_item">회사소개</a></li>
            <li><a href="" class="footer_item">인재채용</a></li>
            <li><a href="" class="footer_item">제휴제안</a></li>
            <li><a href="" class="footer_item">이용약관</a></li>
            <li><a href="" class="footer_item"><b>개인정보처리방침</b></a></li>
            <li><a href="" class="footer_item">청소년보호정책</a></li>
            <li><a href="" class="footer_item">고객센터</a></li>
        </ul>
    </footer>
    <!-- Back to Top -->
    <a href="#" class="btn btn-primary border-3 border-primary rounded-circle back-to-top"><i class="fa fa-arrow-up"></i></a>
</div>
<!-- JavaScript Libraries -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/lib/easing/easing.min.js"></script>
<script src="/lib/waypoints/waypoints.min.js"></script>
<script src="/lib/lightbox/js/lightbox.min.js"></script>
<script src="/lib/owlcarousel/owl.carousel.min.js"></script>
<script type="text/javascript" src="/js/login.js"></script>

<!-- Template Javascript -->
<script src="/js/main.js"></script>

<script>

//     let check = 0
//
//     var numCheckBtn = document.querySelector("#numCheckBtn") // 문자 전송 버튼
//     var timerDisplay = document.getElementById("timerDisplay"); // 남은 시간 표시
//     var nextIdBefore = document.querySelector("#nextIdBefore"); // 아이디 찾기 버튼
//     var numCheckedOk = document.querySelector("#numCheckedOk") // 인증번호 확인 버튼
//     var replaceInput = document.getElementById("replaceInput") // 인증번호가 일치 정보 알려줌
//
//
//
// // 전화번호 검증
// numCheckBtn.addEventListener("click", function () {


    // var jasonData = {
    //     "phone_num" : document.querySelector("#phone").value
    // }
    //
    // // @RequestBody로 받으려면 application/x-www-form-urlencoded에러가 남 해결하려면...
    // // data: JSON.stringify(jasonData),
    // // contentType: "application/json",
    // $.ajax({
    //     type: "post",
    //     url: "/sms-certification/send",
    //     data: JSON.stringify(jasonData),
    //     contentType: "application/json",
    //     success: function (response) {
    //         console.log("성공")
    //
    //         // 3분 타이머 설정
    //         var endTime = new Date().getTime() + 180000; // 현재 시간에 3분(180000ms)을 더한 시간을 구함

            // // 매 초마다 남은 시간 갱신
            // var timerInterval = setInterval(function () {
            //     var now = new Date().getTime();
            //     var distance = endTime - now;
            //
            //     // 타이머 종료 시간에 도달하면 타이머를 멈추고 메시지를 출력
            //     if (distance <= 0) {
            //         check = 0
            //         clearInterval(timerInterval);
            //         replaceInput.textContent = ""
            //         timerDisplay.textContent = " ";
            //     } else {
            //         // 남은 시간을 분과 초로 변환하여 표시
            //         var minutes = Math.floor(distance / (1000 * 60));
            //         var seconds = Math.floor((distance % (1000 * 60)) / 1000);
            //         timerDisplay.textContent = minutes + ":" + seconds + " ";
            //     }
//             }, 1000); // 1초마다 갱신
//
//         },
//         error: function (error) {
//             console.log("실패")
//         }
//     })
//
// })
//
//     //전화번호 검증 확인
//     numCheckedOk.addEventListener("click", function () {
//
//         var jasonData = {
//             "phone_num" : document.querySelector("#phone").value,
//             "certificationNumber" : document.querySelector("#phone2").value
//         }
    //
    //     $.ajax({
    //         type: "POST",
    //         url: "/sms-certification/confirm",
    //         data: JSON.stringify(jasonData),
    //         contentType: "application/json",
    //         success: function (response) {
    //             console.log("성공")
    //             check = 2
    //             replaceInput.textContent = "인증 확인 되었습니다."
    //             replaceInput.style.color = "green";
    //         },
    //         error: function (error) {
    //             console.log("실패")
    //             replaceInput.textContent = "인증번호가 일치하지 않습니다."
    //             replaceInput.style.color = "red";
    //         }
    //     })
    // })

    //
    // // 전제 검증
    // nextIdBefore.addEventListener("click", function (event) {
    //
    //     event.preventDefault()
    //
    //
    //     var jasonData = {
    //         "nickname" : document.querySelector("#nickname").value,
    //         "phone" : document.querySelector("#phone").value
    //     }
    //
    //     // api 구현하기
    //     $.ajax({
    //         type: "POST",
    //         url: "/bangbang/find-id/check",
    //         data: jasonData, // @RequestParam 일때는 이렇게 받는다
    //         success: function (response) {
    //             console.log("성공")
    //
    //             if (check === 0){
    //                 alert("전화번호 인증 확인")
    //
    //             } else if (check === 2){
    //                 var form = document.getElementById("myForm");
    //                 form.submit();
    //             }
    //
    //         },
    //         error: function (error) {
    //             console.log("실패")
    //             alert("닉네임, 전화번호가 일치하지 않습니다.")
    //         }
    //     })
    //
    // })

</script>


</body>
</html>